    var activityMatrix= {
    "Conditioning Exercises":
      [
        {name: "bicycling, stationary, 100 watts, light effort", value: "5.5"},
        {name: "bicycling, stationary, 150 watts, moderate effort", value: "7.0"},
        {name: "bicycling, stationary, 200 watts, vigorous effort", value: "10.5"},
        {name: "bicycling, stationary, 250 watts, very vigorous effort", value: "12.5"},
        {name: "bicycling, stationary, 50 watts, very light effort", value: "3.0"},
        {name: "bicycling, stationary, general", value: "7.0"},
        {name: "calisthenics (e.g. pushups, situps, pullups, jumping jacks), heavy, vigorous effort", value: "8.0"},
        {name: "calisthenics, home exercise, light or moderate effort, general, going up & down from floor", value: "3.5"},
        {name: "circuit training, including some aerobic movement with minimal rest, general", value: "8.0"},
        {name: "health club exercise, general", value: "5.5"},
        {name: "mild stretching", value: "2.5"},
        {name: "rowing, stationary ergometer, general", value: "7.0"},
        {name: "rowing, stationary, 100 watts, moderate effort", value: "7.0"},
        {name: "rowing, stationary, 150 watts, vigorous effort", value: "8.5"},
        {name: "rowing, stationary, 200 watts, very vigorous effort", value: "12.0"},
        {name: "rowing, stationary, 50 watts, light effort", value: "3.5"},
        {name: "ski machine, general", value: "7.0"},
        {name: "slimnastics, jazzercise", value: "6.0"},
        {name: "stair-treadmill ergometer, general", value: "9.0"},
        {name: "stretching, hatha yoga", value: "2.5"},
        {name: "teaching aerobic exercise class", value: "6.0"},
        {name: "water aerobics, water calisthenics", value: "4.0"},
        {name: "weight lifting (free or universal type), light or moderate effort, light workout, general", value: "3.0"},
        {name: "weight lifting (free weight or universal type), power lifting or body building, vigorous effort", value: "6.0"},
        {name: "whirlpool, sitting", value: "1.0"}
      ],
      "Bicycling":
      [
        {name: "< 10 mph, leisure, to work or for pleasure", value:4},
        {name: "bicycling, >20 mph, racing, not drafting", value:16},
        {name: "bicycling, 10-11.9 mph, leisure, slow, light effort", value:6},
        {name: "bicycling, 12-13.9 mph, leisure, moderate effort", value:8},
        {name: "bicycling, 14-15.9 mph, racing or leisure, fast, vigorous effort", value:10},
        {name: "bicycling, 16-19 mph, racing/not drafting or >19 mph drafting, very fast, racing general", value:12},
        {name: "bicycling, BMX or mountain", value:8.5},
        {name: "bicycling, general", value:8},
        {name: "unicycling", value:5},
      ],
      "Dancing":
      [
        {name: "aerobic, general", value: "6.5"},
        {name: "aerobic, high impact", value: "7.0"},
        {name: "aerobic, low impact", value: "5.0"},
        {name: "aerobic, step, with 10 – 12 inch step", value: "10.0"},
        {name: "aerobic, step, with 6 – 8 inch step", value: "8.5"},
        {name: "Anishinaabe Jingle Dancing or other traditional American Indian dancing", value: "5.5"},
        {name: "ballet or modern, twist, jazz, tap, jitterbug", value: "4.8"},
        {name: "ballroom, dancing fast", value: "5.5"},
        {name: "ballroom, fast (disco, folk, square), line dancing, Irish step dancing, polka, contra, country", value: "4.5"},
        {name: "ballroom, slow (e.g. waltz, foxtrot, slow dancing), samba, tango, 19th C, mambo, chacha", value: "3.0"},
        {name: "general, Greek, Middle Eastern, hula, flamenco, belly, and swing dancing", value: "4.5"},
      ],
      "Home Activities":
        [
          {name: "building a fire inside", value: "2.5"},
          {name: "butchering animals", value: "6.0"},
          {name: "carpet sweeping, sweeping floors", value: "3.3"},
          {name: "carrying groceries upstairs", value: "7.5"},
          {name: "carrying small children", value: "3.0"},
          {name: "child care: sitting/kneeling - dressing, bathing, grooming, feeding, occasional lifting of child", value: "2.5"},
          {name: "child care: standing - dressing, bathing, grooming, feeding, occasional lifting of child", value: "3.0"},
          {name: "cleaning, heavy or major (e.g. wash car, wash windows, clean garage), vigorous effort", value: "3.0"},
          {name: "cleaning, house or cabin, general", value: "3.0"},
          {name: "cleaning, light (dusting, straightening up, changing linen, carrying out trash", value: "2.5"},
          {name: "cooking Indian bread on an outside stove", value: "3.0"},
          {name: "cooking or food preparation - standing or sitting or in general, manual appliance", value: "2.0"},
          {name: "cooking or food preparation - walking", value: "2.5"},
          {name: "elder care, disabled adult, only active periods", value: "4.0"},
          {name: "feeding animals", value: "2.5"},
          {name: "food shopping with or without a grocery cart, standing or walking", value: "2.3"},
          {name: "implied standing - laundry, fold or hang clothes, put clothes in washer/dryer, packing suitcase", value: "2.0"},
          {name: "implied walking - putting away clothes, gathering clothes to pack, putting away laundry", value: "2.3"},
          {name: "implied walking - putting away household items - moderate effort", value: "3.0"},
          {name: "ironing", value: "2.3"},
          {name: "making bed", value: "2.0"},
          {name: "maple syruping/sugar bushing (including carrying buckets, carrying wood)", value: "5.0"},
          {name: "mopping", value: "3.5"},
          {name: "moving furniture, household items, carrying boxes", value: "6.0"},
          {name: "moving household items upstairs, carrying boxes or furniture", value: "9.0"},
          {name: "moving household items, carrying boxes", value: "7.0"},
          {name: "multiple household tasks all at once, light effort", value: "2.5"},
          {name: "multiple household tasks all at once, moderate effort", value: "3.5"},
          {name: "multiple household tasks all at once, vigorous effort", value: "4.0"},
          {name: "non-food shopping, standing or walking", value: "2.3"},
          {name: "putting away groceries (carrying groceries, shopping without a grocery cart)", value: "2.5"},
          {name: "reclining with baby", value: "1.5"},
          {name: "scrubbing floors, on hands and knees, scrubbing bathroom, bathtub", value: "3.8"},
          {name: "serving food, setting table - implied walking or standing", value: "2.5"},
          {name: "sit, play ing with animals, light, only active periods", value: "2.5"},
          {name: "sitting - knitting, sewing, lt. wrapping (presents)", value: "1.5"},
          {name: "sitting - playing with child(ren) – light, only active periods", value: "2.5"},
          {name: "stand, playing with animals, light, only active periods", value: "2.8"},
          {name: "standing - bathing dog", value: "3.5"},
          {name: "standing - light (pump gas, change light bulb, etc.)", value: "2.0"},
          {name: "standing - packing/unpacking boxes, occasional lifting of light items - moderate effort", value: "3.5"},
          {name: "standing - playing with child(ren) – light, only active periods", value: "2.8"},
          {name: "sweeping garage, sidewalk or outside of house", value: "4.0"},
          {name: "vacuuming", value: "3.5"},
          {name: "walk/run - playing with child(ren) – moderate, only active periods", value: "4.0"},
          {name: "walk/run - playing with child(ren) – vigorous, only active periods", value: "5.0"},
          {name: "walk/run, playing with animals, light, only active periods", value: "2.8"},
          {name: "walk/run, playing with animals, moderate, only active periods", value: "4.0"},
          {name: "walk/run, playing with animals, vigorous, only active periods", value: "5.0"},
          {name: "walking - light, non-cleaning (readying to leave, shut/lock doors, close windows, etc.)", value: "3.0"},
          {name: "wash dishes - standing or in general (not broken into stand/walk components", value: "2.3"},
          {name: "wash dishes; clearing dishes from table – walking", value: "2.5"},
          {name: "watering plants", value: "2.5"},
        ],
      "Home Repair":[
        {name: "airplane repair", value: "3.0"},
        {name: "automobile body work", value: "4.0"},
        {name: "automobile repair", value: "3.0"},
        {name: "carpentry, finishing or refinishing cabinets or furniture", value: "4.5"},
        {name: "carpentry, general, workshop", value: "3.0"},
        {name: "carpentry, outside house, installing rain gutters, building a fence", value: "6.0"},
        {name: "carpentry, sawing hardwood", value: "7.5"},
        {name: "caulking, chinking log cabin", value: "5.0"},
        {name: "caulking, except log cabin", value: "4.5"},
        {name: "cleaning gutters", value: "5.0"},
        {name: "excavating garage", value: "5.0"},
        {name: "hanging storm windows", value: "5.0"},
        {name: "laying or removing carpet", value: "4.5"},
        {name: "laying tile or linoleum, repairing appliances", value: "4.5"},
        {name: "painting", value: "4.5"},
        {name: "painting, outside home", value: "5.0"},
        {name: "painting, papering, plastering, scraping, inside house, hanging sheet rock, remodeling", value: "3.0"},
        {name: "put on and removal of tarp - sailboat", value: "3.0"},
        {name: "roofing", value: "6.0"},
        {name: "sanding floors with a power sander", value: "4.5"},
        {name: "scraping and painting sailboat or powerboat", value: "4.5"},
        {name: "spreading dirt with a shovel", value: "5.0"},
        {name: "washing and waxing hull of sailboat, car, powerboat, airplane", value: "4.5"},
        {name: "washing fence, painting fence", value: "4.5"},
        {name: "wiring, plumbing", value: "3.0"},
      ],
      "Lawn and Garden":[
        {name: "carrying, loading or stacking wood, loading/unloading or carrying lumber", value: "5.0"},
        {name: "chopping wood, splitting logs", value: "6.0"},
        {name: "clearing land, hauling branches, wheelbarrow chores", value: "5.0"},
        {name: "digging sandbox", value: "5.0"},
        {name: "digging, spading, filling garden, composting", value: "5.0"},
        {name: "gardening with heavy power tools, tilling a garden, chain saw", value: "6.0"},
        {name: "gardening, general", value: "4.0"},
        {name: "implied walking/standing - picking up yard, light, picking flowers or vegetables", value: "3.0"},
        {name: "laying crushed rock", value: "5.0"},
        {name: "laying sod", value: "5.0"},
        {name: "mowing lawn, general", value: "5.5"},
        {name: "mowing lawn, power mower", value: "4.5"},
        {name: "mowing lawn, riding mower", value: "2.5"},
        {name: "mowing lawn, walk, hand mower", value: "6.0"},
        {name: "mowing lawn, walk, power mower", value: "5.5"},
        {name: "operating snow blower, walking", value: "4.5"},
        {name: "picking fruit off trees, picking fruits/vegetables, moderate effort", value: "3.0"},
        {name: "planting seedlings, shrubs", value: "4.5"},
        {name: "planting trees", value: "4.5"},
        {name: "raking lawn", value: "4.3"},
        {name: "raking roof with snow rake", value: "4.0"},
        {name: "riding snow blower", value: "3.0"},
        {name: "sacking grass, leaves", value: "4.0"},
        {name: "shoveling snow, by hand", value: "6.0"},
        {name: "trimming shrubs or trees, manual cutter", value: "4.5"},
        {name: "trimming shrubs or trees, power cutter, using leaf blower, edger", value: "3.5"},
        {name: "walking, applying fertilizer or seeding a lawn", value: "2.5"},
        {name: "walking, gathering gardening tools", value: "3.0"},
        {name: "watering lawn or garden, standing or walking", value: "1.5"},
        {name: "weeding, cultivating garden", value: "4.5"},
      ],
      "Running":[
        {name: "jog/walk combination (jogging component of less than 10 minutes)", value: "6.0"},
        {name: "jogging on a mini-tramp", value: "4.5"},
        {name: "jogging, general", value: "7.0"},
        {name: "jogging, in place", value: "8.0"},
        {name: "running, 10 mph (6 min/mile)", value: "16.0"},
        {name: "running, 10.9 mph (5.5 min/mile)", value: "18.0"},
        {name: "running, 5 mph (12 min/mile)", value: "8.0"},
        {name: "running, 5.2 mph (11.5 min/mile)", value: "9.0"},
        {name: "running, 6 mph (10 min/mile)", value: "10.0"},
        {name: "running, 6.7 mph (9 min/mile)", value: "11.0"},
        {name: "running, 7 mph (8.5 min/mile)", value: "11.5"},
        {name: "running, 7.5 mph (8 min/mile)", value: "12.5"},
        {name: "running, 8 mph (7.5 min/mile)", value: "13.5"},
        {name: "running, 8.6 mph (7 min/mile)", value: "14.0"},
        {name: "running, 9 mph (6.5 min/mile)", value: "15.0"},
        {name: "running, cross country", value: "9.0"},
        {name: "running, on a track, team practice", value: "10.0"},
        {name: "running, stairs, up", value: "15.0"},
        {name: "running, training, pushing a wheelchair", value: "8.0"},
      ],
      "Sports":[
        {name: "archery (non-hunting)", value: "3.5"},
        {name: "badminton, competitive", value: "3.5"},
        {name: "badminton, social singles and doubles, general", value: "4.5"},
        {name: "basketball, game", value: "8.0"},
        {name: "basketball, non-game, general", value: "6.0"},
        {name: "basketball, officiating", value: "7.0"},
        {name: "basketball, shooting baskets", value: "4.5"},
        {name: "basketball, wheelchair", value: "6.5"},
        {name: "billiards", value: "2.5"},
        {name: "bowling", value: "3.0"},
        {name: "boxing, in ring, general", value: "12.0"},
        {name: "boxing, punching bag", value: "6.0"},
        {name: "boxing, sparring", value: "9.0"},
        {name: "broomball", value: "7.0"},
        {name: "children’s games (hopscotch, 4-square, dodge ball, playground apparatus, t-ball, etc.", value: "5.0"},
        {name: "coaching: football, soccer, basketball, baseball, swimming, etc", value: "4.0"},
        {name: "cricket (batting, bowling)", value: "5.0"},
        {name: "croquet", value: "2.5"},
        {name: "curling", value: "4.0"},
        {name: "darts, wall or lawn", value: "2.5"},
        {name: "drag racing, pushing or driving a car", value: "6.0"},
        {name: "fencing", value: "6.0"},
        {name: "football or baseball, playing catch", value: "2.5"},
        {name: "football, competitive", value: "9.0"},
        {name: "football, touch, flag, general", value: "8.0"},
        {name: "frisbee playing, general", value: "3.0"},
        {name: "frisbee, ultimate", value: "8.0"},
        {name: "golf, general", value: "4.5"},
        {name: "golf, miniature, driving range", value: "3.0"},
        {name: "golf, using power cart", value: "3.5"},
        {name: "golf, walking and carrying clubs", value: "4.5"},
        {name: "golf, walking and pulling clubs", value: "4.3"},
        {name: "gymnastics, general", value: "4.0"},
        {name: "hacky sack", value: "4.0"},
        {name: "handball, general", value: "12.0"},
        {name: "handball, team", value: "8.0"},
        {name: "hang gliding", value: "3.5"},
        {name: "hockey, field", value: "8.0"},
        {name: "hockey, ice", value: "8.0"},
        {name: "horseback riding, general", value: "4.0"},
        {name: "horseback riding, saddling horse, grooming horse", value: "3.5"},
        {name: "horseback riding, trotting", value: "6.5"},
        {name: "horseback riding, walking", value: "2.5"},
        {name: "horseshoe pitching, quoits", value: "3.0"},
        {name: "jai alai", value: "12.0"},
        {name: "judo, jujitsu, karate, kick boxing, tae kwan do", value: "10.0"},
        {name: "juggling", value: "4.0"},
        {name: "kickball", value: "7.0"},
        {name: "lacrosse", value: "8.0"},
        {name: "motor-cross", value: "4.0"},
        {name: "orienteering", value: "9.0"},
        {name: "paddleball, casual, general", value: "6.0"},
        {name: "paddleball, competitive", value: "10.0"},
        {name: "polo", value: "8.0"},
        {name: "racquetball, casual, general", value: "7.0"},
        {name: "racquetball, competitive", value: "10.0"},
        {name: "rock climbing, ascending rock", value: "11.0"},
        {name: "rock climbing, rappelling", value: "8.0"},
        {name: "roller blading (in-line skating)", value: "12.0"},
        {name: "rope jumping, fast", value: "12.0"},
        {name: "rope jumping, moderate, general", value: "10.0"},
        {name: "rope jumping, slow", value: "8.0"},
        {name: "rugby", value: "10.0"},
        {name: "shuffleboard, lawn bowling", value: "3.0"},
        {name: "skateboarding", value: "5.0"},
        {name: "skating, roller", value: "7.0"},
        {name: "sky diving", value: "3.5"},
        {name: "soccer, casual, general", value: "7.0"},
        {name: "soccer, competitive", value: "10.0"},
        {name: "softball or baseball, fast or slow pitch, general", value: "5.0"},
        {name: "softball, officiating", value: "4.0"},
        {name: "softball, pitching", value: "6.0"},
        {name: "squash", value: "12.0"},
        {name: "table tennis, ping pong", value: "4.0"},
        {name: "tai chi", value: "4.0"},
        {name: "tennis, doubles", value: "6.0"},
        {name: "tennis, general", value: "7.0"},
        {name: "tennis, singles", value: "8.0"},
        {name: "track and field (high jump, long jump, triple jump, javelin, pole vault)", value: "6.0"},
        {name: "track and field (shot, discus, hammer throw)", value: "4.0"},
        {name: "track and field (steeplechase, hurdles)", value: "10.0"},
        {name: "trampoline", value: "3.5"},
        {name: "volleyball", value: "4.0"},
        {name: "volleyball, beach", value: "8.0"},
        {name: "volleyball, competitive, in gymnasium", value: "8.0"},
        {name: "volleyball, non-competitive, 6 - 9 member team, general", value: "3.0"},
        {name: "wallyball, general", value: "7.0"},
        {name: "wrestling (one match = 5 minutes)", value: "6.0"},
      ],
      "Walking":[
        {name: "backpacking", value: "7.0"},
        {name: "bird watching", value: "2.5"},
        {name: "carrying 1 to 15 lb load, upstairs", value: "5.0"},
        {name: "carrying 16 to 24 lb load, upstairs", value: "6.0"},
        {name: "carrying 25 to 49 lb load, upstairs", value: "8.0"},
        {name: "carrying 50 to 74 lb load, upstairs", value: "10.0"},
        {name: "carrying 74+ lb load, upstairs", value: "12.0"},
        {name: "carrying infant or 15 pound load (e.g. suitcase), level ground or downstairs", value: "3.5"},
        {name: "carrying load upstairs, general", value: "9.0"},
        {name: "climbing hills with 0 to 9 pound load", value: "7.0"},
        {name: "climbing hills with 10 to 20 pound load", value: "7.5"},
        {name: "climbing hills with 21 to 42 pound load", value: "8.0"},
        {name: "climbing hills with 42+ pound load", value: "9.0"},
        {name: "downstairs", value: "3.0"},
        {name: "hiking, cross country", value: "6.0"},
        {name: "loading /unloading a car", value: "3.0"},
        {name: "marching, rapidly, military", value: "6.5"},
        {name: "pushing a wheelchair, non-occupational setting", value: "4.0"},
        {name: "pushing or pulling stroller with child or walking with children", value:"2.5"},
        {name: "race walking", value: "6.5"},
        {name: "rock or mountain climbing", value: "8.0"},
        {name: "up stairs, using or climbing up ladder", value: "8.0"},
        {name: "using crutches", value: "5.0"},
        {name: "walking for pleasure", value: "3.5"},
        {name: "walking from house to car or bus, from car or bus to go places", value: "2.5"},
        {name: "walking the dog", value: "3.0"},
        {name: "walking to neighbor’s house or family’s house for social reasons", value: "2.5"},
        {name: "walking, 2.0 mph, level, slow pace, firm surface", value: "2.5"},
        {name: "walking, 2.5 mph, downhill", value: "2.8"},
        {name: "walking, 2.5 mph, firm surface", value: "3.0"},
        {name: "walking, 3.0 mph, level, moderate pace, firm surface", value: "3.3"},
        {name: "walking, 3.5 mph, level, brisk, firm surface, walking for exercise", value: "3.8"},
        {name: "walking, 3.5 mph, uphill", value: "6.0"},
        {name: "walking, 4.0 mph, level, firm surface, very brisk pace", value: "5.0"},
        {name: "walking, 4.5 mph, level, firm surface, very, very brisk", value: "6.3"},
        {name: "walking, 5.0 mph", value: "8.0"},
        {name: "walking, for pleasure, work break", value: "3.5"},
        {name: "walking, grass track", value: "5.0"},
        {name: "walking, household walking", value: "2.0"},
        {name: "walking, less than 2.0 mph, level ground, strolling, very slow", value: "2.0"},
        {name: "walking, to work or class", value: "4.0"},
],
      "Water Activities":[
        {name: "boating, power", value: "2.5"},
        {name: "canoeing, harvesting wild rice, knocking rice off the stalks", value: "3.3"},
        {name: "canoeing, on camping trip", value: "4.0"},
        {name: "canoeing, portaging", value: "7.0"},
        {name: "canoeing, rowing, >6 mph, vigorous effort", value: "12.0"},
        {name: "canoeing, rowing, 2.0-3.9 mph, light effort", value: "3.0"},
        {name: "canoeing, rowing, 4.0-5.9 mph, moderate effort", value: "7.0"},
        {name: "canoeing, rowing, for pleasure, general", value: "3.5"},
        {name: "canoeing, rowing, in competition, or crew or sculling", value: "12.0"},
        {name: "diving, springboard or platform", value: "3.0"},
        {name: "kayaking", value: "5.0"},
        {name: "paddle boat", value: "4.0"},
        {name: "sailing, boat and board sailing, windsurfing, ice sailing, general", value: "3.0"},
        {name: "sailing, in competition", value: "5.0"},
        {name: "sailing, Sunfish/Laser/Hobby Cat, Keel boats, ocean sailing, yachting", value: "3.0"},
        {name: "skiing, water", value: "6.0"},
        {name: "skimobiling", value: "7.0"},
        {name: "skindiving, fast", value: "16.0"},
        {name: "skindiving, moderate", value: "12.5"},
        {name: "skindiving, scuba diving, general", value: "7.0"},
        {name: "snorkeling", value: "5.0"},
        {name: "surfing, body or board", value: "3.0"},
        {name: "swimming laps, freestyle, fast, vigorous effort", value: "10.0"},
        {name: "swimming laps, freestyle, slow, moderate or light effort", value: "7.0"},
        {name: "swimming, backstroke, general", value: "7.0"},
        {name: "swimming, breaststroke, general", value: "10.0"},
        {name: "swimming, butterfly, general", value: "11.0"},
        {name: "swimming, crawl, fast (75 yards/minute), vigorous effort", value: "11.0"},
        {name: "swimming, crawl, slow (50 yards/minute), moderate or light effort", value: "8.0"},
        {name: "swimming, lake, ocean, river", value: "6.0"},
        {name: "swimming, leisurely, not lap swimming, general", value: "6.0"},
        {name: "swimming, sidestroke, general", value: "8.0"},
        {name: "swimming, synchronized", value: "8.0"},
        {name: "swimming, treading water, fast vigorous effort", value: "10.0"},
        {name: "swimming, treading water, moderate effort, general", value: "4.0"},
        {name: "water aerobics, water calisthenics", value: "4.0"},
        {name: "water jogging", value: "8.0"},
        {name: "water polo", value: "10.0"},
        {name: "water volleyball", value: "3.0"},
        {name: "whitewater rafting, kayaking, or canoeing", value: "5.0"},
      ],
      "Winter Activities":[
        {name: "moving ice house (set up/drill holes, etc.)", value: "6.0"},
        {name: "skating, ice, 9 mph or less", value: "5.5"},
        {name: "skating, ice, general", value: "7.0"},
        {name: "skating, ice, rapidly, more than 9 mph", value: "9.0"},
        {name: "skating, speed, competitive", value: "15.0"},
        {name: "ski jumping (climb up carrying skis)", value: "7.0"},
        {name: "skiing, cross country, >8.0 mph, racing", value: "14.0"},
        {name: "skiing, cross country, 2.5 mph, slow or light effort, ski walking", value: "7.0"},
        {name: "skiing, cross country, 4.0-4.9 mph, moderate speed and effort, general", value: "8.0"},
        {name: "skiing, cross country, 5.0-7.9 mph, brisk speed, vigorous effort", value: "9.0"},
        {name: "skiing, cross country, hard snow, uphill, maximum, snow mountaineering", value: "16.5"},
        {name: "skiing, downhill, light effort", value: "5.0"},
        {name: "skiing, downhill, moderate effort, general", value: "6.0"},
        {name: "skiing, downhill, vigorous effort, racing", value: "8.0"},
        {name: "skiing, general", value: "7.0"},
        {name: "sledding, tobogganing, bobsledding, luge", value: "7.0"},
        {name: "snow shoeing", value: "8.0"},
        {name: "snowmobiling", value: "3.5"},
      ]
    };

function AppViewModel() {
  var self = this;
  // var values = new Object();// = null;
  /* function getData(){
   var values = new Object();// = null;
    $.getJSON("http://127.0.0.1:3000/fitness/data", function(data) {
      var values = new Object();// = null;
      values.gender = data.gender;
      values.age = data.age;
      values.height = data.height;
      values.weight = data.weight;
      console.log("inside",values.age,values.gender,values.weight,values.height);
      // return values;
      // console.log(data.age,data.height);
    });
    // return values;
  }
   *///   // var values = null;
    // var values = getData();
    // console.log("new");
	  /* console.log("outside",values );//.age,values.gender,values.weight,values.height); */
    // values.gender = "female";
    // values.age = 25;
    // values.height = 180;
    // values.weight = 80;
    self.gender =  ko.observable("Male",{persist: 'gender'});
    self.age = ko.observable(24,{persist: 'age'});
    self.weight = ko.observable(71,{persist: 'weight'});
    self.height =  ko.observable(169,{persist: 'height'});
    self.availableActivities = ko.observableArray(Object.keys(activityMatrix));
    self.selectedActivity = ko.observable('Conditioning Exercises');
    self.availableDetailedActivities = ko.computed(function() {
      var a= activityMatrix[this.selectedActivity()];
      return (a);
    }, this)
    self.selectedDetailActivity=ko.observable();
    self.checkAge = ko.computed(function(item, event){
	    var l = $(this).data("l");
	    var h = $(this).data("h");
      if (l == null) l = -100;
      if (h == null) h = 120;
      if ((self.age() >= l) && (self.age() <= h))
        return true;
      else
        return false;
    },this);
    self.activitylevelfactor = ko.observable(1.2);
    self.act_duration = ko.observable(1200);
    self.resting_hr = ko.observable(24);
    self.runtime_min = ko.observable(12,{persist: 'runtime_min'});
    self.runtime_sec = ko.observable(0,{persist: 'runtime_sec'});
    self.pushups = ko.observable(80,{persist: 'pushups'});
    self.situps = ko.observable(80,{persist: 'situps'});
    self.runscore = ko.computed(function() {
	    var m=Number(self.runtime_min());
	    var s = Number(self.runtime_sec());
	    var d = Math.max(m*60+s - 540, 0);
	    return Math.max(100 - Math.round(d/10),0);
    },this);
    self.pushupscore = ko.computed(function() {
	    return Math.min(self.pushups(),100);
    },this);
    self.situpscore = ko.computed(function() {
	    return Math.min(self.situps(),100);
    }, this);
    self.pft = ko.computed(function() {
	    return self.pushupscore() + self.situpscore() + self.runscore();
    },this);
    self.act_min = ko.computed(function() {
      return (Math.floor(self.act_duration()/60)).toFixed(0);
      }, this);
    self.act_sec = ko.computed(function() {
      var m=Math.floor(self.act_duration()/60);
      return (self.act_duration() - m*60).toFixed(0);
      }, this);
    self.avg_hr = ko.observable(150);
    self.kgweight=ko.computed(function() { return 0.4536*self.weight();});
    self.bmr = ko.computed(function() {
      var bmr=0;
      console.log("gender value",self.gender());
      console.log("age value",self.age());
      console.log("height value",self.height());
      console.log("weight value",self.weight());

      if (self.gender() == "male") {
        bmr = Math.round((13.75*self.kgweight()) + (5*self.height()) - (6.76*self.age()) + 66);
      }
      else if (self.gender() == "female") {
        bmr = Math.round((9.56*self.kgweight()) + (1.85*self.height()) - (4.68*self.age()) + 655);
      }
     return bmr;
    });

   self.rmr = ko.computed(function() {
     var rmr=0;
     if (self.gender() == "male") {
       rmr = Math.round(((13.75*self.kgweight()) + (5*self.height()) - (6.76*self.age()) + 66)*1.1);
     }
     else if (self.gender() == "female") {
       rmr = Math.round(((9.56*self.kgweight()) + (1.85*self.height()) - (4.68*self.age()) + 655)*1.1);
     }
    return rmr;
   });

  self.dcb = ko.computed(function() {
    var dcb=0;
    dcb = Math.round(self.activitylevelfactor()*self.bmr());
    return dcb;
  });
  self.maxhr = ko.computed(function() {
    return Math.round(220 - self.age());
  });
  self.maxhrtanaka = ko.computed(function() {
    return Math.round(208 - 0.7*self.age());
  });
  self.avg_hr_percent=ko.computed(function() {
      if (self.maxhrtanaka() == 0) {
        return 0;
      }
      else {
        return (self.avg_hr()/self.maxhrtanaka()*100).toFixed(1);
      }
    });

  self.abcb = ko.computed(function() {
    return((self.bmr()/24.0)*self.selectedDetailActivity()* (self.act_duration() /3600)).toFixed(1);
  });

  self.calorieburnrate = ko.computed(function() {
    var mycbr = 0;

    if (self.gender() == 'male') {
      mycbr = Math.round(((-55.0969 + (0.6309*self.avg_hr()) + (0.1988*self.kgweight()) + (0.2017*self.age()))/4.184)*60);
    }
    else if (self.gender() == 'female'){
      mycbr = Math.round(((-20.4022 + (0.4472*self.avg_hr()) - (0.1263*self.kgweight()) + (0.074*self.age()))/4.184)*60);
    }
    return mycbr;
  });
  self.totalcals = ko.computed(function() {
    return (self.calorieburnrate() * (self.act_duration())/3600).toFixed(0);
  });
}

var viewModel = new AppViewModel();
$(document).ready(function() {
  ko.applyBindings(viewModel);
});
